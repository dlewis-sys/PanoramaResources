<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DCPS Power Practices Hub</title>

    <!-- Tailwind (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React (UMD) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel (compile JSX in browser) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Lucide (CDN, NOT lucide-react) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
      .animate-in {
        animation: fadeSlideIn 0.5s ease-out both;
      }
      @keyframes fadeSlideIn {
        from {
          opacity: 0;
          transform: translateY(16px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>

  <body class="pb-6">
    <div id="root"></div>

    <script type="text/babel">
      const { useEffect, useMemo, useState } = React;

      function Icon({ name, className = "" }) {
        return <i data-lucide={name} className={className} aria-hidden="true"></i>;
      }

      // Panorama Academy links
      const ACADEMY_LINKS = {
        studentsOverview:
          "https://academy.panoramaed.com/hc/en-us/articles/10713910312724-Students-Overview-in-Student-Success",
        studentProfile:
          "https://academy.panoramaed.com/hc/en-us/articles/42356556651796-Student-Profile-Page-in-Student-Success",
        districtSchoolOverview:
          "https://academy.panoramaed.com/hc/en-us/articles/10713910753172-District-and-School-Overview-in-Student-Success",
        creatingCustomReports:
          "https://academy.panoramaed.com/hc/en-us/articles/10713957751700-Creating-Custom-Reports",
        studentGroups:
          "https://academy.panoramaed.com/hc/en-us/articles/10713910398612-How-to-Create-Student-Groups",
        interventionsDashboard:
          "https://academy.panoramaed.com/hc/en-us/articles/15577476217236-Interventions-Dashboard-Overview",
        interventionsDashboardUseCases:
          "https://academy.panoramaed.com/hc/en-us/articles/16528578220820-Use-Cases-for-Interventions-Dashboard",
        progressMonitoring:
          "https://academy.panoramaed.com/hc/en-us/articles/10713910722708-Progress-Monitoring-for-Interventions",
        interventionPlans:
          "https://academy.panoramaed.com/hc/en-us/articles/10713911360404-Your-Intervention-Plans-and-Group-Plan-Page",
        interventionPlansGettingStarted:
          "https://academy.panoramaed.com/hc/en-us/articles/29021430436884-Getting-Started-Guide-Supporting-Students-with-Intervention-Plans",
        checkInsGettingStarted:
          "https://academy.panoramaed.com/hc/en-us/articles/29022080818836-Getting-Started-Guide-Navigating-Check-Ins",
        checkInsUseCases:
          "https://academy.panoramaed.com/hc/en-us/articles/15328335007636-Check-ins-Use-Cases",
        playbookGettingStarted:
          "https://academy.panoramaed.com/hc/en-us/articles/29023134996756-Getting-Started-Guide-Navigating-Panorama-s-Playbook",
      };

      const BASE_ROLES = {
        teacher: { id: "teacher", title: "Teachers", icon: "user-circle", focus: "Student-Level Responsiveness" },
        mtss: { id: "mtss", title: "MTSS Teams", icon: "layers", focus: "Systemic Intervention & Monitoring" },
        leader: { id: "leader", title: "School Leaders", icon: "building-2", focus: "Tier 1 Trends & Systems" },
        district: { id: "district", title: "District Leaders", icon: "bar-chart-3", focus: "System-Level Allocation" },
      };

      // Alignment key language (what the chip MEANS)
      const LEVERAGE_KEY = [
        {
          label: "ðŸŸ¢ Primary Leverage",
          meaning:
            "Panorama is a primary system for doing the work. Teams should expect core routines and evidence to live in-platform (not in parallel trackers).",
          lookFor:
            "Regular use, consistent routines, and artifacts in Panorama (groups, plans, monitoring, reports).",
        },
        {
          label: "ðŸŸ¡ Supporting Leverage",
          meaning:
            "Panorama supports the work but does not carry the full routine alone. It strengthens visibility, coordination, or evidence, alongside other tools/processes.",
          lookFor:
            "Panorama adds context, flags needs, or provides evidence that supports decisions made elsewhere.",
        },
        {
          label: "âšª Limited Alignment",
          meaning:
            "This practice is primarily enacted through other systems or routines. Panorama may provide helpful context but is not central to implementation.",
          lookFor:
            "Use Panorama for reference, but do not expect full practice execution in-platform.",
        },
      ];

      const PRACTICES = {
        "data-informed": {
          id: "data-informed",
          headerKicker: "POWER PRACTICES",
          headerTitle: "Data-Informed Instruction & Intervention",
          statusChip: "Hub Mockup",
          suggestedStart: "Power Practice",
          alignment: {
            badge: "ðŸŸ¢",
            type: "Primary Leverage",
            anchor:
              "This Power Practice focuses on the consistent use of multiple data sources to identify student needs early and guide timely, informed responses.",
            provenance:
              "DCPS Power Practices Framework â€“ see relevant MTSS and Data-Informed Decision-Making strands for full description.",
            why: [
              "This practice depends on unified, whole-child data views to identify need early.",
              "Effective response requires coordinated follow-through across roles and teams.",
              "Student Success provides consistent visibility into trends and student-level context.",
            ],
            leverageLabel: "Panorama Leverage Level",
          },
          narrative: {
            lead:
              "Data-informed instruction ensures supports are responsive to student need rather than isolated observations.",
            body:
              "When implemented well, this practice strengthens Tier 1 instruction, enables early identification of students needing support, and creates a shared foundation for MTSS decision-making across classrooms, teams, and schools.",
            quote:
              "Student Success functions as a shared source of truth for understanding student trends across academics, attendance, behavior, and SEL.",
          },
          roles: {
            teacher: {
              features: ["Students Overview", "Student Profiles"],
              responsibilities: [
                "Regularly review Students Overview to identify At Risk/Critical students",
                "Use Student Profiles to inform differentiation and classroom supports",
                "Bring data-informed observations into grade-level or MTSS discussions",
              ],
              resource: { label: "Students Overview", url: ACADEMY_LINKS.studentsOverview },
            },
            mtss: {
              features: ["Students Overview", "Reports & Custom Reports"],
              responsibilities: [
                "Use shared data views to prepare for MTSS meetings",
                "Identify patterns across students and confirm follow-up actions",
                "Monitor identified at-risk students for support appropriate-ness",
              ],
              resource: { label: "Creating Custom Reports", url: ACADEMY_LINKS.creatingCustomReports },
            },
            leader: {
              features: ["School Overview", "Reports & Custom Reports"],
              responsibilities: [
                "Review schoolwide trends to inform instructional priorities",
                "Use reports for goal monitoring and staff data conversations",
                "Reinforce consistent use of shared data sources across teams",
              ],
              resource: { label: "District & School Overview", url: ACADEMY_LINKS.districtSchoolOverview },
            },
            district: {
              features: ["District Overview", "Reports & Custom Reports"],
              responsibilities: [
                "Monitor districtwide trends and variation across schools",
                "Use data to guide system-level planning and resource allocation",
              ],
              resource: { label: "Creating Custom Reports", url: ACADEMY_LINKS.creatingCustomReports },
            },
          },
          features: {
            primary: [
              {
                name: "Students Overview",
                desc: "Holistic, early-warning view of risk across academics, attendance, behavior, and SEL.",
                use: "Proactive identification and prioritization of student needs.",
                link: "Students Overview",
                url: ACADEMY_LINKS.studentsOverview,
              },
              {
                name: "School Overview",
                desc: "Schoolwide and grade-level trends that inform Tier 1 instructional planning.",
                use: "Guiding system-level supports and high-level instructional adjustments.",
                link: "District & School Overview",
                url: ACADEMY_LINKS.districtSchoolOverview,
              },
              {
                name: "Reports & Custom Reports",
                desc: "Monitor progress toward goals and analyze patterns across groups.",
                use: "Combining indicators into actionable insights.",
                link: "Creating Custom Reports",
                url: ACADEMY_LINKS.creatingCustomReports,
              },
            ],
            supporting: [
              {
                name: "Student Profiles",
                desc: "Longitudinal, student-level context for problem-solving.",
                use: "Individualized planning and student context.",
                link: "Student Profile",
                url: ACADEMY_LINKS.studentProfile,
              },
              {
                name: "Student Groups (Smart/Static)",
                desc: "Dynamic grouping based on evolving data (e.g., academic risk + attendance).",
                use: "Ongoing monitoring and focused cohort follow-up.",
                link: "Create Student Groups",
                url: ACADEMY_LINKS.studentGroups,
              },
            ],
          },
          lookFors: [
            "Regular review of Students and School Overviews",
            "Reports combining multiple indicators (e.g., Academics + SEL)",
            "Data referenced consistently during MTSS/Grade-Level meetings",
            "Reduced reliance on informal or manual tracking systems",
            "Action steps clearly defined after every data review cycle",
          ],
          reflectionQs: [
            "Which Student Success features are we using consistently?",
            "Where do we need stronger routines for reviewing data?",
            "What additional support would help teams use data effectively?",
          ],
          learnDo: {
            core: [
              { label: "Students Overview in Student Success", url: ACADEMY_LINKS.studentsOverview },
              { label: "District and School Overview in Student Success", url: ACADEMY_LINKS.districtSchoolOverview },
              { label: "Creating Custom Reports", url: ACADEMY_LINKS.creatingCustomReports },
            ],
            roleQuickLinks: [
              { role: "Teachers", label: "Student Profile Page", url: ACADEMY_LINKS.studentProfile },
              { role: "MTSS Teams / Coordinators", label: "How to Create Student Groups", url: ACADEMY_LINKS.studentGroups },
              {
                role: "Student Voice (Check-Ins)",
                label: "Getting Started: Navigating Check-Ins",
                url: ACADEMY_LINKS.checkInsGettingStarted,
                secondaryLabel: "Check-Ins Use Cases â†’",
                secondaryUrl: ACADEMY_LINKS.checkInsUseCases,
              },
            ],
            nextLevel: [
              { title: "Interventions Dashboard Overview", desc: "Monitor follow-through across plans.", url: ACADEMY_LINKS.interventionsDashboard },
              { title: "Interventions Dashboard Use Cases", desc: "Examples of team workflows.", url: ACADEMY_LINKS.interventionsDashboardUseCases },
              { title: "Getting Started with Playbook", desc: "Strategy support aligned to needs.", url: ACADEMY_LINKS.playbookGettingStarted },
            ],
          },
        },

        "tiered-supports": {
          id: "tiered-supports",
          headerKicker: "POWER PRACTICES",
          headerTitle: "Tiered Supports with Fidelity",
          statusChip: "Hub Mockup",
          suggestedStart: "Panorama Alignment",
          alignment: {
            badge: "ðŸŸ¢",
            type: "Primary Leverage",
            anchor:
              "This Power Practice emphasizes providing timely, tiered supports based on student need, with clear documentation and regular progress monitoring to inform decisions.",
            provenance:
              "DCPS Power Practices Framework â€“ see relevant MTSS and Tiered Supports strands for full description.",
            why: [
              "Tier 2/3 supports require consistent documentation and clear ownership across teams.",
              "Progress monitoring is essential to determine whether supports are effective and should be adjusted.",
              "Student Success functions as a system of record for plans, updates, and monitoring.",
            ],
            leverageLabel: "Panorama Leverage Level",
          },
          narrative: {
            lead: "Tiered supports work best when they are consistent, documented, and monitored over time.",
            body:
              "When implemented with fidelity, tiered supports reduce reactive referrals, strengthen shared ownership across teams, and ensure students receive the right support at the right time.",
            quote:
              "Student Success can centralize intervention plans and progress monitoring, reducing parallel tracking systems.",
          },
          roles: {
            teacher: {
              features: ["Students Overview", "Student Profiles"],
              responsibilities: [
                "Identify students who may need supports based on trends (not one-off events)",
                "Document observations and bring them to team problem-solving routines",
                "Collaborate on classroom supports aligned to intervention plans",
              ],
              resource: { label: "Student Profile", url: ACADEMY_LINKS.studentProfile },
            },
            mtss: {
              features: ["Intervention Plans", "Progress Monitoring"],
              responsibilities: [
                "Create and update intervention plans (individual and group)",
                "Set progress monitoring methods and ensure updates occur regularly",
                "Use dashboards to monitor follow-through and adjust supports",
              ],
              resource: { label: "Getting Started: Intervention Plans", url: ACADEMY_LINKS.interventionPlansGettingStarted },
            },
            leader: {
              features: ["Interventions Dashboard", "Reports & Custom Reports"],
              responsibilities: [
                "Monitor fidelity: plans exist, progress is updated, and teams follow through",
                "Use trends to remove barriers and strengthen routines",
                "Ensure teams reduce parallel trackers outside Panorama",
              ],
              resource: { label: "Interventions Dashboard", url: ACADEMY_LINKS.interventionsDashboard },
            },
            district: {
              features: ["Reports & Custom Reports", "Interventions Dashboard"],
              responsibilities: [
                "Monitor patterns of access to tiered supports across schools and groups",
                "Use data to guide system-level resourcing and coaching priorities",
              ],
              resource: { label: "Creating Custom Reports", url: ACADEMY_LINKS.creatingCustomReports },
            },
          },
          features: {
            primary: [
              {
                name: "Intervention Plans",
                desc: "Create and manage student and group intervention plans with goals and strategies.",
                use: "Consistent documentation and shared ownership of Tier 2/3 supports.",
                link: "Intervention Plans",
                url: ACADEMY_LINKS.interventionPlans,
              },
              {
                name: "Progress Monitoring",
                desc: "Track outcomes over time using notes or custom methods with visuals.",
                use: "Determine whether supports are working and adjust quickly.",
                link: "Progress Monitoring",
                url: ACADEMY_LINKS.progressMonitoring,
              },
              {
                name: "Interventions Dashboard",
                desc: "Monitor implementation status and progress across plans.",
                use: "Visibility into follow-through and plan health.",
                link: "Interventions Dashboard",
                url: ACADEMY_LINKS.interventionsDashboard,
              },
            ],
            supporting: [
              {
                name: "Student Groups (Smart/Static)",
                desc: "Create groups for targeted supports and monitoring.",
                use: "Manage cohorts and streamline follow-up.",
                link: "Create Student Groups",
                url: ACADEMY_LINKS.studentGroups,
              },
              {
                name: "Playbook",
                desc: "Browse research-backed strategies aligned to student needs.",
                use: "Select evidence-based approaches for intervention plans.",
                link: "Getting Started with Playbook",
                url: ACADEMY_LINKS.playbookGettingStarted,
              },
            ],
          },
          lookFors: [
            "Tier 2/3 students have documented plans with clear owners",
            "Progress monitoring is updated routinely (not only at meetings)",
            "Teams reference plan status and trends during problem-solving routines",
            "Fewer parallel trackers outside Student Success",
            "Supports adjust based on monitoring data (not time-based only)",
          ],
          reflectionQs: [
            "Do all Tier 2/3 students who need plans have them documented?",
            "Are we updating progress monitoring consistently enough to make decisions?",
            "What routine or role clarity would strengthen follow-through?",
          ],
          learnDo: {
            core: [
              { label: "Intervention Plans and Group Plan Page", url: ACADEMY_LINKS.interventionPlans },
              { label: "Getting Started: Supporting Students with Intervention Plans", url: ACADEMY_LINKS.interventionPlansGettingStarted },
              { label: "Progress Monitoring for Interventions", url: ACADEMY_LINKS.progressMonitoring },
            ],
            roleQuickLinks: [
              { role: "MTSS Teams / Coordinators", label: "Interventions Dashboard Use Cases", url: ACADEMY_LINKS.interventionsDashboardUseCases },
              { role: "Teachers", label: "Student Profile Page", url: ACADEMY_LINKS.studentProfile },
              { role: "Grouping", label: "How to Create Student Groups", url: ACADEMY_LINKS.studentGroups },
            ],
            nextLevel: [
              { title: "Interventions Dashboard Overview", desc: "Track plan health at a glance.", url: ACADEMY_LINKS.interventionsDashboard },
              { title: "Creating Custom Reports", desc: "Monitor patterns across groups and schools.", url: ACADEMY_LINKS.creatingCustomReports },
              { title: "Getting Started with Playbook", desc: "Find strategies aligned to needs.", url: ACADEMY_LINKS.playbookGettingStarted },
            ],
          },
        },
      };

      // Defaults: start at TOC
      const DEFAULT_PRACTICE = "data-informed";
      const DEFAULT_ROLE = "teacher";
      const DEFAULT_TAB = "toc";
      const VALID_TABS = ["toc", "practice", "alignment", "roadmap", "check-fors", "learn"];

      function getParams() {
        const sp = new URLSearchParams(window.location.search);
        return {
          practice: sp.get("practice") || DEFAULT_PRACTICE,
          role: sp.get("role") || DEFAULT_ROLE,
          tab: sp.get("tab") || DEFAULT_TAB,
        };
      }

      function setParams({ practice, role, tab }) {
        const sp = new URLSearchParams(window.location.search);
        sp.set("practice", practice);
        sp.set("role", role);
        sp.set("tab", tab);
        const newUrl = `${window.location.pathname}?${sp.toString()}`;
        window.history.replaceState({}, "", newUrl);
      }

      function Modal({ title, children, onClose }) {
        return (
          <div className="fixed inset-0 z-[999] flex items-center justify-center p-4">
            <div className="absolute inset-0 bg-slate-900/40" onClick={onClose}></div>
            <div className="relative w-full max-w-2xl bg-white rounded-3xl shadow-2xl border border-slate-200 overflow-hidden">
              <div className="p-5 bg-slate-50 border-b border-slate-200 flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <Icon name="info" className="w-4 h-4 text-slate-600" />
                  <h3 className="text-sm font-black uppercase tracking-widest text-slate-700">{title}</h3>
                </div>
                <button onClick={onClose} className="p-2 rounded-xl hover:bg-slate-100 transition" aria-label="Close">
                  <Icon name="x" className="w-5 h-5 text-slate-600" />
                </button>
              </div>
              <div className="p-6">{children}</div>
            </div>
          </div>
        );
      }

      function LeverageChip({ alignment, onInfo }) {
        return (
          <div className="flex items-center gap-2 flex-wrap justify-end">
            <span className="text-[10px] font-black px-3 py-1 rounded-full bg-emerald-100 text-emerald-800 uppercase tracking-widest">
              {alignment.leverageLabel}: {alignment.badge} {alignment.type}
            </span>
            <button
              onClick={onInfo}
              className="text-[10px] font-black px-3 py-1 rounded-full bg-white border border-slate-200 text-slate-700 uppercase tracking-widest hover:bg-slate-50 transition inline-flex items-center gap-2"
              title="What does this mean?"
            >
              <Icon name="help-circle" class
