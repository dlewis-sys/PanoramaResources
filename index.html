<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solara Prompt Master</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- ICON REPLACEMENTS ---
        // Since we are in a single file, we can't "import" icons. 
        // These are SVG replacements for the Lucide icons you used.
        const IconBase = ({ children, className, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>{children}</svg>
        );
        const CheckCircle = (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconBase>;
        const XCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></IconBase>;
        const ArrowRight = (props) => <IconBase {...props}><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></IconBase>;
        const RotateCcw = (props) => <IconBase {...props}><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/></IconBase>;
        const Award = (props) => <IconBase {...props}><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></IconBase>;
        const BookOpen = (props) => <IconBase {...props}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></IconBase>;
        const UserPlus = (props) => <IconBase {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></IconBase>;
        const MessageSquare = (props) => <IconBase {...props}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></IconBase>;
        const Zap = (props) => <IconBase {...props}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></IconBase>;

        // --- YOUR GAME CODE ---
        const { useState, useEffect } = React;

        const SolaraGame = () => {
          const [gameState, setGameState] = useState('intro'); // intro, blitz, scenarios, summary
          const [score, setScore] = useState(0);
          const [currentQuestion, setCurrentQuestion] = useState(0);
          const [feedback, setFeedback] = useState(null); // null, 'correct', 'incorrect'
          const [feedbackMessage, setFeedbackMessage] = useState('');

          // --- GAME DATA ---
          const blitzData = [
            {
              id: 1,
              text: "Use plain, direct language in your prompts.",
              type: "do",
              explanation: "Solara performs best when requests are direct and easy to understand."
            },
            {
              id: 2,
              text: "Type a student's name in the prompt to automatically search their records.",
              type: "dont",
              explanation: "Solara does NOT search records automatically. You must manually use the 'Add student(s)' button."
            },
            {
              id: 3,
              text: "Treat the first output as a draft and ask for revisions.",
              type: "do",
              explanation: "Solara is designed for back-and-forth refinement. Iterate to get the best result."
            },
            {
              id: 4,
              text: "Write prompts like 'Fix this' or 'Help me with a lesson'.",
              type: "dont",
              explanation: "Vague prompts lead to generic responses. Be specific about components and goals."
            },
            {
              id: 5,
              text: "Include context like grade level, student needs (IEP/ELL), and instructional goals.",
              type: "do",
              explanation: "Giving context ensures the response is tailored to your specific audience."
            }
          ];

          const scenarioData = [
            {
              id: 1,
              title: "The Lesson Plan",
              problem: "You need a lesson plan for 5th grade science, but you have specific requirements.",
              badPrompt: "Create a lesson about photosynthesis.",
              options: [
                {
                  text: "Create a 45-minute lesson on photosynthesis for 5th graders including a hands-on activity and assessment.",
                  correct: true,
                  reason: "Perfect! This specifies the duration, grade level, topic, and required components."
                },
                {
                  text: "Tell me about photosynthesis for kids.",
                  correct: false,
                  reason: "Too vague. It lacks structure, duration, and specific learning objectives."
                }
              ]
            },
            {
              id: 2,
              title: "The Parent Email",
              problem: "You need to email parents about an upcoming field trip, but the tone matters.",
              badPrompt: "Write an email to families about the trip.",
              options: [
                {
                  text: "Draft a permission slip email.",
                  correct: false,
                  reason: "Still too brief. It misses the tone and specific constraints."
                },
                {
                  text: "Write a friendly, informative email to families about the Zoo trip next Tuesday, emphasizing safety and lunch details.",
                  correct: true,
                  reason: "Excellent. This provides context (Zoo/Tuesday), purpose, and defines the tone (friendly/informative)."
                }
              ]
            },
            {
              id: 3,
              title: "Data Analysis",
              problem: "You want Solara to analyze Jamie's reading progress based on stored data.",
              badPrompt: "How is Jamie doing in reading?",
              options: [
                {
                  text: "Type: 'Analyze reading progress for Jamie' while ensuring Jamie is added via the 'Add Student' button.",
                  correct: true,
                  reason: "Correct! You must manually add individual students to the chat for analysis."
                },
                {
                  text: "Type: 'Look up Jamie's files and tell me his reading level.'",
                  correct: false,
                  reason: "Solara cannot 'look up' files unless the student is explicitly added to the context window first."
                }
              ]
            }
          ];

          // --- LOGIC HANDLERS ---
          const startGame = () => {
            setGameState('blitz');
            setScore(0);
            setCurrentQuestion(0);
            setFeedback(null);
          };

          const handleBlitzAnswer = (selection) => {
            const currentQ = blitzData[currentQuestion];
            const isCorrect = selection === currentQ.type;

            if (isCorrect) {
              setScore(score + 100);
              setFeedback('correct');
              setFeedbackMessage(`Correct! ${currentQ.explanation}`);
            } else {
              setFeedback('incorrect');
              setFeedbackMessage(`Oops! Actually, that's a "${currentQ.type === 'do' ? 'Do' : "Don't"}". ${currentQ.explanation}`);
            }
          };

          const nextBlitz = () => {
            setFeedback(null);
            if (currentQuestion < blitzData.length - 1) {
              setCurrentQuestion(currentQuestion + 1);
            } else {
              setGameState('intermission');
            }
          };

          const startScenarios = () => {
            setGameState('scenarios');
            setCurrentQuestion(0);
            setFeedback(null);
          };

          const handleScenarioAnswer = (option) => {
            if (option.correct) {
              setScore(score + 200);
              setFeedback('correct');
              setFeedbackMessage(option.reason);
            } else {
              setFeedback('incorrect');
              setFeedbackMessage(option.reason);
            }
          };

          const nextScenario = () => {
            setFeedback(null);
            if (currentQuestion < scenarioData.length - 1) {
              setCurrentQuestion(currentQuestion + 1);
            } else {
              setGameState('summary');
            }
          };

          // --- COMPONENTS ---
          const Header = () => (
            <div className="w-full flex justify-between items-center p-4 bg-indigo-900 text-white shadow-md">
              <div className="flex items-center gap-2">
                <Zap className="text-yellow-400" size={24} />
                <h1 className="font-bold text-xl tracking-tight">Solara Prompt Master</h1>
              </div>
              <div className="bg-indigo-800 px-4 py-1 rounded-full font-mono text-sm border border-indigo-600">
                Score: {score}
              </div>
            </div>
          );

          const IntroScreen = () => (
            <div className="flex flex-col items-center justify-center min-h-[60vh] text-center p-6 space-y-6 max-w-2xl mx-auto">
              <div className="bg-indigo-100 p-6 rounded-full">
                <MessageSquare size={64} className="
